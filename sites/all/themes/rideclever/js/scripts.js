(function(b){b(document).ready(function(){locationHashChanged();if(b(".openlayers-map").length===1){setTimeout(function(){resizeRideMap()},500);b(window).resize(function(){resizeRideMap()})}if(b("#refresh-this-page").length>0){setInterval(function(){location.reload()},24000)}address0="#edit-field-rider-address-und-0-value";address1="#field-start-time-address";if(b(address0).length>0){if(b(address1).length>0){b(address1).attr("value",b(address0).attr("value"));a(address0,address1)}}if(b("#save-later-ride").length>0){b("#save-later-ride").click(function(){b("#edit-submit").click()})}});function a(d,c){b(d).change(function(){b(c).val(b(d).val())});b(c).change(function(){b(d).val(b(c).val())});b("#block-block-8 a").click(function(){b(c).val(b(d).val())})}})(jQuery);function getUrlVars(){var a,d=[],c;a=window.location.href.slice(window.location.href.indexOf("#")+1).split("&");for(var b=0;b<a.length;b++){c=a[b].split("=");d.push(c[0]);d[c[0]]=c[1]}return d}function printStreetAddress(a,f){var a,f,c,d,b,e;c="/sites/all/modules/openlayers_proxy/ymap.php?lat="+a+"&lon="+f;jQuery.getJSON(c,function(g){e=g.ResultSet.Results[0]["line1"];jQuery("#edit-field-rider-address-und-0-value").attr("value",e)})}function setLatLong(){var b,a;b=getUrlVars()["lon"];a=getUrlVars()["lat"];jQuery("#edit-field-geoloc-und-0-lng").val(b);jQuery("#edit-field-geoloc-und-0-lat").val(a);printStreetAddress(a,b)}function locationHashChanged(){if(jQuery("#edit-field-geoloc-und-0-lng").length>0&&jQuery("#edit-field-geoloc-und-0-lat").length>0){setLatLong()}}function resizeRideMap(){var a;a=jQuery(window).height()-(jQuery(".openlayers-map").offset().top+36);jQuery(".openlayers-container-map-").css("height",a);jQuery(".openlayers-map").css("height",a);jQuery("#block-block-1").css("margin-top",(a/2)-40);locationHashChanged()}window.onhashchange=locationHashChanged;